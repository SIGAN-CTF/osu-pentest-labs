<template>
  <v-card flat>
    <v-card-title class="d-flex align-center pe-2">
      Labs
      <v-spacer></v-spacer>
      <v-text-field v-model="search" density="compact" label="Search" variant="solo-filled" flat hide-details
        single-line></v-text-field>
    </v-card-title>
    <v-divider></v-divider>
    <v-data-table v-model:search="search" :items="items" show-expand item-value="name" :headers="headers">
      <!-- <template v-slot:header.status>
        <div class="text-end">Status</div>
      </template> -->
      <template v-slot:item.status="{ item }">
        <div>
          <v-chip :color="item.status === 'Running' ? 'green' : 'red'" :text="item.status === 'Running' ? 'Running' : 'Down'"
            class="text-uppercase" size="small" label></v-chip>
        </div>
      </template>
      <template v-slot:expanded-row="{ columns, item }">
        <tr>
          <td :colspan="columns.length">
            Logs for {{ item.name }}
          </td>
        </tr>
      </template>
      <template v-slot:item.action="{ item }">
        <VMAction :status="item.status" />
      </template>
    </v-data-table>
  </v-card>
</template>

<script>
import VMAction from "@/components/VMAction.vue"

export default {
  components: {
    VMAction
  },
  data() {
    return {
      search: '',
      headers: [
        { title: 'Name', value: 'name' },
        { title: 'OS', align: 'center', value: 'os' },
        { title: 'IP', align: 'center', value: 'ip' },
        { title: 'Status', align: 'center', value: 'status' },
        { title: "Actions", value: "action", align: 'center', sortable: false, width: "300px" }
      ],
      items: [
        {
          id: 1,
          name: '01 - Linux PHP',
          os: 'Ubuntu',
          ip: "192.168.0.10",
          status: "Running",
        },
        {
          id: 2,
          name: '02 - Windows',
          os: 'Windows',
          status: "Down",
        },
        {
          id: 2,
          name: '03 - Windows Exchange',
          os: 'Windows',
          status: "Down",
        },
      ],
    }
  },
  setup() {
    return {

    }
  }
}
</script>

<style></style>-